var S=e=>{throw TypeError(e)};var A=(e,t,n)=>t.has(e)||S("Cannot "+n);var b=(e,t,n)=>(A(e,t,"read from private field"),n?n.call(e):t.get(e)),O=(e,t,n)=>t.has(e)?S("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n);import{a as C,r as j,j as r,R as d}from"./index-BVS29hmz.js";var u;class R{constructor(){O(this,u,"http://localhost:9090/api")}async getAllEvents(){return await(await C.get(`${b(this,u)}/events`)).data}async getEventDetails(t){return await(await C.get(`${b(this,u)}/events/${t}`)).data}}u=new WeakMap;const _=new R,L=({eventId:e})=>{let t="Details Of - ";const[n,i]=j.useState(null);return j.useEffect(()=>{(async()=>i(await _.getEventDetails(e)))()},[e]),n?r.jsx("div",{children:r.jsx("h1",{children:t+(n==null?void 0:n.eventName)})}):r.jsx("div",{children:"Loading...."})};var D={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},w=d.createContext&&d.createContext(D),F=["attr","size","title"];function z(e,t){if(e==null)return{};var n=k(e,t),i,s;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(s=0;s<c.length;s++)i=c[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function k(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},m.apply(this,arguments)}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N(Object(n),!0).forEach(function(i){B(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function B(e,t,n){return t=H(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e){var t=V(e,"string");return typeof t=="symbol"?t:t+""}function V(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T(e){return e&&e.map((t,n)=>d.createElement(t.tag,p({key:n},t.attr),T(t.child)))}function P(e){return t=>d.createElement(U,m({attr:p({},e.attr)},t),T(e.child))}function U(e){var t=n=>{var{attr:i,size:s,title:c}=e,x=z(e,F),f=s||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),d.createElement("svg",m({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,x,{className:l,style:p(p({color:e.color||n.color},n.style),e.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),c&&d.createElement("title",null,c),e.children)};return w!==void 0?d.createElement(w.Consumer,null,n=>t(n)):t(D)}function y(e){return P({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41z"},child:[]}]})(e)}function g(e){return P({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279 224H41c-21.4 0-32.1-25.9-17-41L143 64c9.4-9.4 24.6-9.4 33.9 0l119 119c15.2 15.1 4.5 41-16.9 41z"},child:[]}]})(e)}function $(e,t="en-IN"){return e&&new Intl.DateTimeFormat(t,{weekday:"long",DAY:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}).format(new Date(e))}function M(e,t="en-IN",n="INR"){return e&&new Intl.NumberFormat(t,{currency:n,style:"currency",maximumFractionDigits:2,minimumFractionDigits:2}).format(e)}const W={events:[],eventId:0,filteredEvents:[]};function G(e,t){switch(t.type){case"FETCH_ALL_EVENTS":e={...e,events:t.payload,filteredEvents:t.payload};break;case"FETCH_EVENT_DETAILS":e={...e,eventId:t.payload};break;case"SEARCH_BY_EVENT_NAME":e={...e,filteredEvents:t.payload};break;case"SORT_ASC":e={...e,filteredEvents:t.payload};break;case"SORT_DESC":e={...e,filteredEvents:t.payload};break}return e}const q=()=>{let e="Welcome To Synechron Events List!",t="Published by Synechron Hr! Pune!";const[n,i]=j.useReducer(G,W);j.useEffect(()=>((async()=>i({type:"FETCH_ALL_EVENTS",payload:await _.getAllEvents()}))(),()=>{}),[]);const s=a=>{i({type:"FETCH_EVENT_DETAILS",payload:a})},c=a=>{const o=n.events.filter(E=>E.eventName.toLowerCase().includes(a.toLowerCase()));i({type:"SEARCH_BY_EVENT_NAME",payload:o})};function x(){n.filteredEvents.sort((a,o)=>a.fees-o.fees),i({type:"SORT_ASC",payload:n.filteredEvents})}function f(){n.filteredEvents.sort((a,o)=>o.fees-a.fees),i({type:"SORT_DESC",payload:n.filteredEvents})}function l(a,o){n.filteredEvents.sort(function(E,I){const h=E[`${a}`].toUpperCase(),v=I[`${a}`].toUpperCase();if(o==="SORT_ASC"){if(h<v)return-1;if(h>v)return 1}if(o==="SORT_DESC"){if(h>v)return-1;if(h<v)return 1}return 0}),i({type:o,payload:n.filteredEvents})}return n.events?r.jsxs(r.Fragment,{children:[r.jsx("h1",{children:e}),r.jsx("hr",{}),r.jsx("h6",{children:t}),r.jsx("hr",{}),r.jsx("br",{}),r.jsx("input",{type:"text",placeholder:"Search By Event Name",className:"searchBox",onChange:a=>c(a.target.value)}),r.jsx("br",{}),n.events.length>0?r.jsxs("table",{className:"table table-hover table-striped",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:r.jsxs(r.Fragment,{children:["Event Code",r.jsx("button",{onClick:()=>l("eventCode","SORT_ASC"),children:r.jsx(g,{})}),r.jsx("button",{onClick:()=>l("eventCode","SORT_DESC"),children:r.jsx(y,{})})]})}),r.jsx("th",{children:r.jsxs(r.Fragment,{children:["Event Name",r.jsx("button",{onClick:()=>l("eventName","SORT_ASC"),children:r.jsx(g,{})}),r.jsx("button",{onClick:()=>l("eventName","SORT_DESC"),children:r.jsx(y,{})})]})}),r.jsx("th",{children:"Start Date"}),r.jsxs("th",{children:["Fees",r.jsx("button",{onClick:()=>x(),children:r.jsx(g,{})}),r.jsx("button",{onClick:()=>f(),children:r.jsx(y,{})})]}),r.jsx("th",{children:"Show Details"})]})}),r.jsx("tbody",{children:n.filteredEvents.map(a=>r.jsxs("tr",{children:[r.jsx("td",{children:r.jsx("span",{children:a.eventCode})}),r.jsx("td",{children:r.jsx("span",{children:a.eventName})}),r.jsx("td",{children:r.jsx("span",{children:$(a.startDate.toString(),"en-IN")})}),r.jsx("td",{children:r.jsx("span",{children:M(a.fees,"en-US","USD")})}),r.jsx("td",{children:r.jsx("button",{className:"btn btn-info",onClick:()=>s(a.eventId),children:"Show Details"})})]},a.eventId))})]}):r.jsxs("div",{children:[r.jsx("br",{}),r.jsx("p",{children:"No data found. Please modify your search!"})]}),r.jsx("br",{}),n.eventId>0?r.jsx(L,{eventId:n.eventId}):""]}):r.jsx("h3",{children:"Loading..."})};export{q as default};
